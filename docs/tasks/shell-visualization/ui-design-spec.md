# Shell可视化操作界面设计方案

## 1. 设计理念

基于现有的SSH工具界面，将系统监控功能作为新的会话类型集成：
- 保持现有的会话管理和标签页体系
- 复用已有的UI设计语言
- 采用类似Windows任务管理器的监控界面
- 确保与现有功能的一致性

### 1.1 会话集成设计
- **复用现有会话管理**
  * 在现有会话列表中添加系统监控类型标识
  * 使用统一的会话创建入口
  * 保持现有的会话分组结构
  * 支持会话状态同步

- **会话创建流程**
  * 使用现有的"新建会话"按钮
  * 在连接配置中增加会话类型选项（终端/系统监控）
  * 根据类型显示额外配置项
  * 创建后自动打开对应类型的标签页

### 1.2 标签页集成
- **标签页样式统一**
  * 复用现有标签页设计
  * 为系统监控会话添加特殊图标
  * 保持一致的标签页操作方式
  * 支持标签页拖拽排序

## 2. 界面布局

### 2.1 会话创建入口
```
会话列表项添加类型图标：
[终端图标] 终端会话1
[监控图标] 系统监控会话

连接配置增加类型选择：
+------------------------------------------+
|            SSH连接配置                    |
+------------------------------------------+
| 名称：[                              ]   |
| 主机：[                              ]   |
| 端口：[                              ]   |
| 用户名：[                            ]   |
| 认证方式：[密码/密钥                 ▼]  |
| 会话类型：[终端/系统监控            ▼]  |
|                                          |
| [系统监控配置]                          |
| ┌────────────────────────────────────┐   |
| │ 默认页面：[进程                ▼]  │   |
| │ 刷新间隔：[  3  ] 秒              │   |
| │ □ 启动时获取服务信息              │   |
| │ □ 记录历史数据                    │   |
| └────────────────────────────────────┘   |
|                                          |
|          [取消]        [确定]           |
+------------------------------------------+
```

### 2.2 系统监控标签页内容
复用现有标签页框架：
+------------------------------------------+
| [终端] [终端] [系统监控]  [+]  |
+------------------------------------------+
|| 进程 | 性能 | 应用历史记录 | 启动 | 用户 | 详细信息 | 服务 |                                          |
|     [监控区：内容如下]                       |

#### 2.2.1 进程页面
```
+----------------------------------------------------------+
| 进程 | 性能 | 应用历史记录 | 启动 | 用户 | 详细信息 | 服务 |
+----------------------------------------------------------+
|  [搜索进程...]                   [排序▼]    [分组方式▼]   |
+----------------------------------------------------------+
| 名称              CPU   内存   磁盘   网络    类型        |
|----------------------------------------------------------|
| ▶ 应用程序 (5)                                            |
|   ├─ nginx.exe     0.1%  24MB   0MB/s  0.1KB/s  应用程序 |
|   ├─ python.exe    2.4%  156MB  1MB/s  0.5KB/s  应用程序 |
|   └─ ...                                                  |
|                                                           |
| ▶ 后台进程 (12)                                          |
|   ├─ sshd.exe      0.2%  12MB   0MB/s  0.2KB/s  后台进程|
|   └─ ...                                                  |
|                                                           |
| ▼ 系统进程 (8)                                           |
|   ├─ systemd       0.5%  45MB   0MB/s  0KB/s   系统进程 |
|   ├─ kernel        1.2%  128MB  0MB/s  0KB/s   系统进程 |
|   └─ ...                                                  |
+----------------------------------------------------------+
| 进程总数: 25    CPU使用率: 4%    内存使用: 2.1GB/16GB    |
+----------------------------------------------------------+
```

#### 2.2.2 性能页面
```
+----------------------------------------------------------+
| 进程 | 性能 | 应用历史记录 | 启动 | 用户 | 详细信息 | 服务 |
+----------------------------------------------------------+
|                                                           |
| [▇▇▇▇░░] CPU      |                                      |
| 31% 2.90 GHz      |     +------------------------------+ |
|                   |     |     CPU 使用率               | |
| [▇▇▇░░░] 内存     |     |     ╭────────────╮          | |
| 21.3/31.9 GB(67%) |     |     │    31%    │          | |
|                   |     |     ╰────────────╯          | |
| [░░░░░░] 磁盘 0   |     |                             | |
| C: D: E:          |     | 使用率    速度   进程       | |
| SSD 0%            |     | 31%     2.90GHz    32       | |
|                   |     |                             | |
| [░░░░░░] 以太网   |     | 最大速度: 3.40 GHz         | |
| VMnet1            |     | 插槽:     1                | |
| 0 Kbps            |     | 核心:     4                | |
|                   |     | 逻辑处理器: 8              | |
| [░░░░░░] 以太网   |     |                             | |
| VMnet8            |     | 处理器型号:                | |
| 0 Kbps            |     | Intel(R) Core(TM) i5-9400  | |
|                   |     |                             | |
| [░░░░░░] Wi-Fi    |     | 基本速度: 2.90 GHz         | |
| WLAN              |     | 最大速度: 4.10 GHz         | |
| 0 Kbps            |     | 总线速度: 100 MHz          | |
|                   |     |                             | |
| [░░░░░░] 以太网   |     | 缓存:                      | |
| 以太网 3          |     | L1: 384 KB                 | |
| 0 Kbps            |     | L2: 1.5 MB                 | |
|                   |     | L3: 9 MB                   | |
| [▇▇░░░░] GPU     |     |                             | |
| Intel UHD 630     |     | [打开资源监视器]           | |
| 2% 0.6/16.0 GB    |     +------------------------------+ |
+----------------------------------------------------------+

详细信息页面（点击 CPU 时）：
+----------------------------------------------------------+
| 进程 | 性能 | 应用历史记录 | 启动 | 用户 | 详细信息 | 服务 |
+----------------------------------------------------------+
|                                                           |
| [▇▇▇▇░░] CPU 0   |   CPU 使用率 - 总体                  |
| 31% 2.90 GHz     |   ╭───────────────────────╮          |
|                  |   │         31%           │          |
| [▇▇▇░░░] CPU 1   |   ╰───────────────────────╯          |
| 28% 2.90 GHz     |                                      |
|                  |   每个处理器核心的使用率：            |
| [▇▇░░░░] CPU 2   |   ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐   |
| 15% 2.90 GHz     |   │ 31% │ │ 28% │ │ 15% │ │ 22% │   |
|                  |   └─────┘ └─────┘ └─────┘ └─────┘   |
| [▇▇▇░░░] CPU 3   |   CPU 0   CPU 1   CPU 2   CPU 3     |
| 22% 2.90 GHz     |                                      |
|                  |   ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐   |
| [▇░░░░░] CPU 4   |   │ 12% │ │ 18% │ │ 25% │ │ 20% │   |
| 12% 2.90 GHz     |   └─────┘ └─────┘ └─────┘ └─────┘   |
|                  |   CPU 4   CPU 5   CPU 6   CPU 7     |
| [▇▇░░░░] CPU 5   |                                      |
| 18% 2.90 GHz     |   使用情况历史记录                   |
|                  |   ╭───────────────────────╮          |
| [▇▇▇░░░] CPU 6   |   │    时间轴图表        │          |
| 25% 2.90 GHz     |   ╰───────────────────────╯          |
|                  |                                      |
| [▇▇░░░░] CPU 7   |   最高进程：                        |
| 20% 2.90 GHz     |   1. chrome.exe (12%)              |
|                  |   2. python.exe (8%)               |
|                  |   3. node.exe (5%)                |
+----------------------------------------------------------+

详细信息页面（点击磁盘时）：
+----------------------------------------------------------+
| 进程 | 性能 | 应用历史记录 | 启动 | 用户 | 详细信息 | 服务 |
+----------------------------------------------------------+
|                                                           |
| [░░░░░░] 磁盘 0  |   磁盘活动 - 总体                     |
| C: D: E:         |   ╭───────────────────────╮           |
| SSD 0%           |   │         0%            │           |
|                  |   ╰───────────────────────╯           |
| C: 系统          |                                       |
| [▇▇░░░░] 954 GB  |   读取速度：0 KB/秒                   |
| 已用: 872 GB     |   写入速度：0 KB/秒                   |
| 类型: SSD        |                                       |
|                  |   活动时间：0%                        |
| D: 数据          |   平均响应时间：0 毫秒                |
| [▇░░░░░] 512 GB  |                                       |
| 已用: 125 GB     |   分区信息：                         |
| 类型: SSD        |   C: 系统                            |
|                  |   总容量：954 GB                     |
| E: 备份          |   已用空间：872 GB                   |
| [▇▇▇░░░] 1 TB    |   可用空间：82 GB                    |
| 已用: 750 GB     |                                       |
| 类型: HDD        |   D: 数据                            |
|                  |   总容量：512 GB                     |
|                  |   已用空间：125 GB                   |
|                  |   可用空间：387 GB                   |
|                  |                                       |
|                  |   E: 备份                            |
|                  |   总容量：1 TB                       |
|                  |   已用空间：750 GB                   |
|                  |   可用空间：250 GB                   |
+----------------------------------------------------------+
```

#### 2.2.3 内存性能详情
```
+----------------------------------------------------------+
| 进程 | 性能 | 应用历史记录 | 启动 | 用户 | 详细信息 | 服务 |
+----------------------------------------------------------+
|                                                           |
| CPU        |                                              |
| 内存       |     +------------------------------+         |
| 磁盘       |     |     内存使用情况             |         |
| 网络       |     |     ▉▉▉▉▉▉░░░░             |         |
| GPU        |     |     8.2 GB / 16 GB          |         |
|            |     |                             |         |
|            |     | 已使用      可用    已提交   |         |
|            |     | 8.2 GB    7.8 GB   12.4 GB  |         |
|            |     |                             |         |
|            |     | 缓存:     3.2 GB           |         |
|            |     | 分页池:   280 MB           |         |
|            |     | 非分页池: 450 MB           |         |
|            |     |                             |         |
|            |     | 速度:     2400 MHz         |         |
|            |     | 插槽已使用: 2 / 4          |         |
|            |     +------------------------------+         |
+----------------------------------------------------------+
```

#### 2.2.4 磁盘性能详情
```
+----------------------------------------------------------+
| 进程 | 性能 | 应用历史记录 | 启动 | 用户 | 详细信息 | 服务 |
+----------------------------------------------------------+
|                                                           |
| CPU        |                                              |
| 内存       |     +------------------------------+         |
| 磁盘       |     |     磁盘活动                |         |
| 网络       |     |     ╭─────────────╮         |         |
| GPU        |     |     │  12MB/s    │         |         |
|            |     |     ╰─────────────╯         |         |
|            |     |                             |         |
|            |     | 活动时间   读取    写入     |         |
|            |     |   4%      8MB/s   4MB/s    |         |
|            |     |                             |         |
|            |     | 容量:    256 GB SSD        |         |
|            |     | 已用空间: 180 GB (70%)     |         |
|            |     | 平均响应时间: 0.3ms        |         |
|            |     +------------------------------+         |
+----------------------------------------------------------+
```

#### 2.2.5 网络性能详情
```
+----------------------------------------------------------+
| 进程 | 性能 | 应用历史记录 | 启动 | 用户 | 详细信息 | 服务 |
+----------------------------------------------------------+
|                                                           |
| CPU        |                                              |
| 内存       |     +------------------------------+         |
| 磁盘       |     |     以太网                  |         |
| 网络       |     |  ↑ 0.2 Mbps                |         |
| GPU        |     |  ↓ 1.5 Mbps                |         |
|            |     |                             |         |
|            |     | 发送      接收             |         |
|            |     | 0.2 Mbps   1.5 Mbps       |         |
|            |     |                             |         |
|            |     | 适配器: Intel(R) I211      |         |
|            |     | IP地址: 192.168.1.100      |         |
|            |     | DNS: 8.8.8.8               |         |
|            |     | 字节发送: 1.2 GB           |         |
|            |     | 字节接收: 5.8 GB           |         |
|            |     +------------------------------+         |
+----------------------------------------------------------+
```

### 2.3 交互设计

#### 2.3.1 标签页操作
- **标准标签页行为**
  * 支持关闭、切换、拖动排序
  * 保持会话连接状态
  * 支持会话重连
  * 标签页图标显示会话类型

#### 2.3.2 监控特定操作
- **数据刷新**
  * 自动定时刷新（可配置间隔）
  * 手动刷新按钮
  * 暂停/继续刷新
  * 刷新状态指示

- **数据操作**
  * 进程管理（结束/重启）
  * 服务控制（启动/停止）
  * 数据导出
  * 详情查看

### 2.4 视觉风格

#### 2.4.1 配色方案
- **复用现有主题色**
  * 保持应用整体视觉一致性
  * 确保数据可读性
  * 状态颜色统一
  * 图表配色协调

#### 2.4.2 数据可视化
- **图表样式**
  * 简洁的线条
  * 清晰的数据标签
  * 合适的图表尺寸
  * 流畅的动画效果

### 2.5 性能优化
- **数据更新策略**
  * 按需加载详细信息
  * 智能调整刷新频率
  * 数据缓存机制
  * 高效的渲染方式

### 2.6 错误处理
- **连接异常**
  * 自动重连机制
  * 清晰的错误提示
  * 故障排除建议
  * 日志记录

- **数据异常**
  * 数据验证
  * 异常值标记
  * 恢复机制
  * 用户通知
