# Linux文件浏览器产品方案

## 1. 产品定位

### 1.1 功能概述
Linux文件浏览器是AI-SSH工具的核心功能之一，旨在为用户提供类Windows资源管理器的Linux文件管理体验。通过图形化界面，让用户可以方便地浏览、管理Linux服务器上的文件和目录。文件浏览器与SSH会话紧密集成，每个会话标签页都拥有独立的文件浏览空间。

### 1.2 会话集成设计
- **会话绑定机制**
  * 文件浏览器与SSH会话标签一一对应
  * 每个会话标签拥有独立的文件浏览空间
  * 会话关闭时自动关闭对应的文件浏览器
  * 支持多会话并行操作文件

- **布局设计**
  * 采用垂直分割布局
    - 上方为SSH终端区域
    - 下方为文件浏览器区域
  * 支持拖拽调整终端与文件浏览器比例
  * 可以最小化/隐藏文件浏览器区域
  * 支持快捷键切换布局比例

- **状态同步**
  * 文件浏览器自动同步当前会话的工作目录
  * 终端命令执行结果实时反馈到文件视图
  * 文件操作状态在终端中可见
  * 支持终端命令与文件操作的联动

### 1.2 目标用户
- Linux服务器运维人员
- 需要频繁操作Linux文件的开发者
- 不熟悉Linux命令的新手用户

src/renderer/
  ├── components/
  │   └── FileBrowser/                # 文件浏览器组件目录
  │       ├── index.tsx               # 主组件
  │       ├── Navigation/             # 导航组件
  │       │   ├── PathBreadcrumb.tsx  # 路径导航
  │       │   └── ToolBar.tsx         # 工具栏
  │       ├── FileList/               # 文件列表组件
  │       │   ├── ListView.tsx        # 列表视图
  │       │   └── GridView.tsx        # 网格视图
  │       ├── ContextMenu/            # 右键菜单
  │       └── Transfer/               # 文件传输组件
  └── services/
      └── fileBrowser/                # 文件操作服务
          ├── fileOperation.ts        # 文件操作
          ├── transferManager.ts      # 传输管理
          └── types.ts               # 类型定义

## 2. 功能设计

### 2.1 基础文件操作
- **文件浏览**
  * 以列表形式展示文件和目录
  * 显示详细信息（名称、大小、类型、修改时间、权限、所有者）
  * 支持目录层级导航
  * 支持文件排序（按名称、大小、修改时间等）
  * 支持文件筛选和搜索

- **文件操作**
  * 复制/粘贴文件
  * 移动/重命名文件
  * 删除文件（支持回收站功能）
  * 新建文件/文件夹
  * 文件权限修改
  * 批量操作支持

- **文件传输**
  * 本地与远程文件拖拽传输
  * 传输进度显示
  * 断点续传支持
  * 大文件传输优化

### 2.2 高级功能
- **文件预览**
  * 文本文件在线预览
  * 图片文件缩略图
  * 常见文档格式预览

- **快捷操作**
  * 常用目录快速访问
  * 文件操作快捷键支持
  * 右键菜单定制

- **安全特性**
  * 危险操作确认提示
  * 文件操作权限检查
  * 操作日志记录

## 3. 界面设计

### 3.1 布局规划
- 位于SSH终端下方，可调整分割比例
- 支持最小化和全屏切换
- 可选择是否显示文件浏览器

### 3.2 界面元素
- 导航栏：当前路径、前进/后退、刷新
- 工具栏：常用操作按钮
- 侧边栏：收藏夹、快速访问
- 主内容区：文件列表
- 状态栏：选中项信息、磁盘使用情况

### 3.3 交互设计
- 支持鼠标拖拽操作
- 双击打开文件/目录
- 右键菜单快捷操作
- 文件多选支持
- 操作进度反馈

## 4. 技术实现

### 4.1 前端技术
- React + TypeScript
- Ant Design组件库
- 自定义文件浏览器组件
- 文件传输状态管理

### 4.2 后端服务
- SFTP协议实现文件传输
- 文件系统操作接口
- 权限管理系统
- 缓存机制

## 5. 开发规划

### Phase 1: 基础功能实现
- 文件列表显示
- 基本文件操作
- 简单文件传输

### Phase 2: 高级功能开发
- 文件预览
- 高级传输功能
- 快捷操作支持

### Phase 3: 优化和完善
- 性能优化
- 界面美化
- 用户体验改进
