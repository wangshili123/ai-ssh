# 文件编辑器UI设计文档

## 一、整体布局设计

```
+------------------------------------------+
|  工具栏（ToolBar）                        |
|  +--------------------------------------+ |
|  | 保存 | 刷新 | 实时模式 | 搜索 | 设置  | |
+------------------------------------------+
|  过滤条件（打开文件时可选）               |
|  +--------------------------------------+ |
|  | [过滤文本] [正则] [应用过滤]          |
+------------------------------------------+
|  编辑区域（Editor Area）                  |
|  +--------------------------------------+ |
|  |                                      | |
|  |       主要编辑/查看区域              | |
|  |                                      | |
|  +--------------------------------------+ |
|  状态栏（Status Bar）                     |
|  +--------------------------------------+ |
|  | 文件信息 | 编码 | 匹配行数/总行数 | 内存 |
+------------------------------------------+
```

## 二、功能区域详细设计

### 1. 工具栏（ToolBar）
- **布局**：水平排列，左对齐
- **按钮设计**：
  ```
  [💾] 保存    [🔄] 刷新    [📡] 实时模式    [🔍] 搜索    [⚙️] 设置
  ```
- **实时模式开关**：
  ```
  [📡 实时模式 ⚪] -> [📡 实时模式 🟢]
  自动滚动: [✓]
  ```

### 2. 过滤条件面板
```
+--------------------------------------------------+
| 过滤: [输入过滤文本_______________] [.*] [应用]   |
+--------------------------------------------------+
```

### 3. 主编辑区域
- **过滤后的内容显示**：
  ```
  +------------------+
  | 1024 | 匹配行... |
  | 1026 | 匹配行... |
  | 1089 | 匹配行... |
  +------------------+
  ```

- **加载状态指示**：
  ```
  +------------------+
  | 正在加载并过滤... |
  | 已处理: 50MB     |
  | 匹配行: 128/1000 |
  +------------------+
  ```

### 4. 搜索面板（当激活时显示）
```
+------------------------------------------+
| 🔍 搜索框                    [Aa] [.*] [x] |
| [上一个] [下一个]  找到 0 个结果           |
+------------------------------------------+
```

### 5. 状态栏
```
+----------------------------------------------------------+
| 📁 file.txt | UTF-8 | 行:120 列:50 | 已加载:2MB/总共:10MB |
+----------------------------------------------------------+
```

## 三、交互设计

### 1. 实时模式
```
+------------------------+
| 📡 实时模式已开启      |
| [暂停] [关闭]         |
| ⚡ 自动滚动已开启      |
+------------------------+
```

### 2. 大文件加载提示
```
+--------------------------------+
|        大文件加载中...         |
|    [==========] 50% 5MB/10MB   |
|    [取消] [后台加载]           |
+--------------------------------+
```

### 3. 搜索结果导航（在编辑器下方出现）
```
+--------------------------------+
| 搜索结果: 1/128               |
| [◀️上一个] [下一个▶️]          |
|                               |
| 预览:                         |
| ...文本内容...               |
+--------------------------------+
```

## 四、视觉风格

### 1. 配色方案
```
主色调：
- 背景色：#1E1E1E（深色模式）/ #FFFFFF（浅色模式）
- 文本色：#D4D4D4（深色模式）/ #000000（浅色模式）
- 高亮色：#007ACC
- 警告色：#F44336
- 成功色：#4CAF50
- 过滤匹配行：#FFD700（深色模式）/ #FFEB3B（浅色模式）
- 过滤上下文行：#808080（深色模式）/ #E0E0E0（浅色模式）
```

### 2. 字体设计
```
- 编辑器字体：Consolas, 'Courier New', monospace
- 界面字体：系统默认字体
- 默认大小：14px
```

### 3. 动画效果
- 实时模式切换动画：平滑过渡（300ms）
- 搜索结果高亮：淡入淡出效果
- 加载进度条：平滑动画
- 滚动加载：渐进式渲染

## 五、响应式设计

### 1. 小屏幕适配
```
+------------------+
| [📱] 工具栏收缩   |
| [≡] 展开更多选项  |
+------------------+
```

### 2. 大屏幕优化
```
+--------------------------------+
| 并排显示搜索结果和编辑区域     |
| 更多状态信息显示               |
+--------------------------------+
```

## 六、特殊状态

### 1. 错误提示
```
+--------------------------------+
| ⚠️ 文件加载失败                |
| 详细信息：xxx                  |
| [重试] [报告问题]              |
+--------------------------------+
```

### 2. 保存确认
```
+--------------------------------+
| 💾 文件已修改                  |
| 是否保存更改？                 |
| [保存] [不保存] [取消]         |
+--------------------------------+
``` 